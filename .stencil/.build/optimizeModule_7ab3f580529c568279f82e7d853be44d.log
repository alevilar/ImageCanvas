import{r as s,g as t}from"./p-52a7c3f9.js";var i;(function(s){s["text"]="text";s["image"]="image";s["qr"]="qr";s["barcode"]="barcode"})(i||(i={}));function h(s,t){const h={[i.text]:new a(s,t),[i.image]:new n(s,t),[i.barcode]:new c(s,t),[i.qr]:new r(s,t)};return h[t.type].run()}class e{constructor(s,t){this.canvasContent=s;this.layer=t}run(){}}class n extends e{run(){const s=new Image;s.src=this.layer.any_string;s.onload=()=>{this.canvasContent.drawImage(s,this.layer.x,this.layer.y,this.layer.width,this.layer.height)}}}class a extends e{run(){this.canvasContent.fillStyle=this.layer.canvasOptions.fillStyle;this.canvasContent.font=this.layer.canvasOptions.font;this.canvasContent.textAlign=this.layer.canvasOptions.textAlign;this.canvasContent.fillText(this.layer.any_string,this.layer.x,this.layer.y)}}class r extends e{run(){console.log(this.layer)}}class c extends e{run(){console.log(this.layer)}}const o=":host{display:block}";const l=class{constructor(t){s(this,t);this.width=undefined;this.height=undefined;this.canvasFillStyle="black";this.layers=[];this.imgLoading=true}handlerLayerChange(){this.__loadData()}componentWillLoad(){this.el.style.height=this.height;this.el.style.width=this.width;this.canvas=this.__createCanvas();this.el.appendChild(this.canvas)}__createCanvas(){this.canvas=document.createElement("canvas");this.__resizeCanvas();return this.canvas}__resizeCanvas(){this.canvas.height=this.el.offsetHeight;this.canvas.width=this.el.offsetWidth}__loadData(){const s=this.canvas.getContext("2d");let t=this.layers;t.forEach((t=>{h(s,t)}))}get el(){return t(this)}static get watchers(){return{layers:["handlerLayerChange"]}}};l.style=o;export{l as image_canvas};